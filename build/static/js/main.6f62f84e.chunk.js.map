{"version":3,"sources":["assets/images/login.png","api/ajax.js","api/index.js","utils/memoryUtils.js","utils/storageUtils.js","pages/login/login.jsx","assets/images/logo.png","config/menuConfig.js","components/left-nav/index.jsx","utils/dateUtils.js","components/link-button/index.jsx","components/header/index.jsx","pages/home/home.jsx","pages/category/category.jsx","pages/product/product.jsx","pages/role/role.jsx","pages/user/user.jsx","pages/charts/bar.jsx","pages/charts/line.jsx","pages/charts/pie.jsx","pages/admin/admin.jsx","App.js","index.js"],"names":["ajax","url","data","type","Promise","resolve","reject","promise","axios","get","params","post","console","log","then","response","catch","error","message","reqLogin","username","password","reqCategorys","parentId","reqWeather","user","USER_KEY","store","set","remove","Login","formRef","React","createRef","getFormData","value","form","current","getFieldsValue","validatePwd","rule","length","Error","test","onFinish","values","a","resonse","result","status","success","memoryUtils","storageUtils","props","history","replace","msg","onFinishFailed","errorInfo","_id","to","className","src","logo","alt","name","initialValues","remember","this","ref","Item","rules","required","whitespace","min","max","pattern","prefix","UserOutlined","placeholder","validator","LockOutlined","valuePropName","noStyle","htmlType","onClick","Component","menuList","title","key","icon","isPublic","children","SubMenu","Menu","LeftNav","getMenuNodes","reduce","prev","item","push","FullscreenOutlined","PieChartOutlined","path","location","pathname","handleClick","style","width","selectedKeys","defaultOpenKeys","mode","withRouter","formateDate","time","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","LinkButton","Header","state","currentTime","now","dayPictureUrl","weather","getTime","setInterval","setState","logout","Modal","confirm","ExclamationCircleOutlined","content","onOk","getWeather","getTitle","forEach","cItem","find","Home","Category","categorys","subCategorys","loading","parentName","initColumns","columns","dataIndex","render","category","showSubCategorys","getCategorys","showCategorys","ArrowRightOutlined","marginRight","extra","PlusOutlined","bordered","rowKey","dataSource","pagination","defaultPageSize","showQuickJumper","Product","Role","User","Bar","Line","Pie","Footer","Layout","Sider","Content","Admin","height","margin","backgroundColor","component","textAlign","color","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6f62f84e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/login.f6487143.png\";","import { message } from 'antd';\r\nimport axios from 'axios'\r\nexport default function ajax(url,data={},type='GET'){\r\n    return new Promise((resolve,reject)=>{\r\n        let promise;\r\n        if(type==='GET'){\r\n            promise=axios.get(url,{\r\n                params:data\r\n            })\r\n        }else{\r\n            promise=axios.post(url,data)\r\n        }\r\n        console.log('请求出错了')\r\n        console.log(promise)\r\n        promise.then(response=>{\r\n            resolve(response.data)\r\n        }).catch(error=>{\r\n             console.log(error)\r\n            message.error('请求出错了'+error)\r\n            \r\n        })\r\n    })\r\n   \r\n}","/*\r\n包含应用中所有接口请求函数的模块\r\n每个函数的返回值都是promise\r\n*/\r\nimport ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\nimport axios from 'axios'\r\n//登录\r\n// export function reqLogin(username,password){\r\n//     return ajax('/login',{username,password},'POST')\r\n// }\r\n// const baseUrl='http://127.0.0.1:5000';\r\n\r\nexport const reqLogin=(username,password)=>ajax('/login',{username,password},'POST')\r\n//添加用户\r\nexport const reqAddUser=(user)=>ajax('/manage/user/add',user,'POST')\r\n//获取一级/二级分类的列表\r\nexport const reqCategorys=(parentId)=>ajax('/manage/category/list',{parentId})\r\n//添加分类\r\nexport const reqAddCategory=(categoryName,parentId)=>ajax('/manage/category/add',{categoryName,parentId})\r\n//更新分类\r\nexport const reqUpdateCategory=({categoryId,categoryName})=>ajax('/manage/category/update',{categoryId,categoryName})\r\n//json请求的接口函数\r\n// export const reqWeather=(city)=>{\r\n//    const url=`https://api.map.baidu.com/weather/v1/?district_id=222405&data_type=all&ak=nLXOSwH01Py9umDg9KPzj4X5l3FvGD9R`\r\n//    jsonp(url,{},(err,data)=>{\r\n//     console.log(err,data)\r\n//    })\r\n// }\r\nexport const reqWeather=()=>axios('http://localhost:3001?district_id=222405&data_type=all&ak=nLXOSwH01Py9umDg9KPzj4X5l3FvGD9R')\r\n","/* eslint-disable import/no-anonymous-default-export */\r\n/*\r\n用来在内存中保存一些数据的工具模块\r\n*/\r\nexport default {\r\n    user: {},//保存当前登录的user\r\n}","/* eslint-disable import/no-anonymous-default-export */\r\nimport store from 'store'\r\nconst USER_KEY = 'user_key'\r\nexport default {\r\n    /* \r\n    存储user\r\n    */\r\n   saveUser(user){\r\n    //    localStorage.setItem(USER_KEY,JSON.stringify(user))\r\n    store.set(USER_KEY,user)\r\n   },\r\n    /* \r\n    读取user\r\n    */\r\n    getUser(){\r\n        // return JSON.parse(localStorage.getItem(USER_KEY) || '{}')\r\n        return store.get(USER_KEY) || {}\r\n    },\r\n    /* \r\n    删除user\r\n    */\r\n    removeUser() {\r\n        // localStorage.removeItem(USER_KEY)\r\n        store.remove(USER_KEY)\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Form, Input, Button, Checkbox, message } from 'antd'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport \"antd/dist/antd.css\"\r\nimport './login.less'\r\nimport logo from '../../assets/images/login.png'\r\nimport { reqLogin } from '../../api'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\nimport {Redirect} from 'react-router-dom'\r\n/* \r\n登录的路由组件 \r\n*/\r\n\r\nclass Login extends Component {\r\n  formRef = React.createRef();\r\n\r\n  getFormData = (value) => {\r\n    const form = this.formRef.current\r\n    console.log(form.getFieldsValue())\r\n\r\n  }\r\n  validatePwd = (rule, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('请输入密码'));\r\n    } else if (value.length < 4) {\r\n      return Promise.reject(new Error('密码长度不能小于4位'));\r\n    } else if (value.length > 12) {\r\n      return Promise.reject(new Error('密码长度不能大于12位'));\r\n    } else if (!/^[a-zA-Z0-9_]+$/.test(value)) {\r\n      return Promise.reject(new Error('密码必须是英文、数字下划线组成'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  }\r\n  onFinish = async (values) => {\r\n    const { username, password } = values;\r\n    const resonse = await reqLogin(username, password)\r\n    const result = resonse\r\n    if (result.status === 0) {\r\n      message.success('登录成功')\r\n      //保存user\r\n      const user = result.data\r\n      memoryUtils.user = user//保存在内存中\r\n      storageUtils.saveUser(user)\r\n      //跳转到管理界面\r\n      console.log(this.props)\r\n      this.props.history.replace('/')\r\n    } else {\r\n      message.error(result.msg)\r\n    }\r\n    // try {\r\n    //   await reqLogin(username,password)\r\n    // } catch (err) {\r\n    //   console.log('err:',err)\r\n    // }\r\n\r\n  };\r\n\r\n  onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n  render() {\r\n    //如果用户已经登录，自动跳转到管理界面\r\n    const user=memoryUtils.user\r\n    if(user._id){\r\n     return <Redirect to='/' />\r\n    }\r\n    return (\r\n      <div className=\"login\">\r\n        <header className=\"login-header\">\r\n          <img src={logo} alt=\"logo\" />\r\n          <h1>React项目：后台管理系统</h1>\r\n        </header>\r\n        <section className=\"login-content\">\r\n          <h2>用户登录</h2>\r\n          <Form\r\n            name=\"normal_login\"\r\n            className=\"login-form\"\r\n            initialValues={{ remember: true }}\r\n            // onFinish={onFinish}\r\n            onFinish={this.onFinish}\r\n            onFinishFailed={this.onFinishFailed}\r\n            ref={this.formRef}\r\n          >\r\n            <Form.Item\r\n              name=\"username\"\r\n              rules={[\r\n                { required: true, whitespace: true, message: '用户名必须输入' },\r\n                { min: 4, message: '用户名至少4位' },\r\n                { max: 12, message: '用户名至多12位' },\r\n                { pattern: /^[a-zA-Z0-9_]+$/, message: '用户名必须是英文、数字下划线组成' }\r\n\r\n              ]}\r\n            >\r\n              <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[\r\n                { validator: this.validatePwd }\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n                <Checkbox>Remember me</Checkbox>\r\n              </Form.Item>\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" onClick={this.getFormData}>\r\n                Log in\r\n        </Button>\r\n            </Form.Item>\r\n          </Form>\r\n\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Login","export default __webpack_public_path__ + \"static/media/logo.f6487143.png\";","const menuList = [\r\n    {\r\n      title: '首页', // 菜单标题名称\r\n      key: '/home', // 对应的path\r\n      icon: 'home', // 图标名称\r\n      isPublic: true, // 公开的\r\n    },\r\n    {\r\n      title: '商品',\r\n      key: '/products',\r\n      icon: 'appstore',\r\n      children: [ // 子菜单列表\r\n        {\r\n          title: '品类管理',\r\n          key: '/category',\r\n          icon: 'bars'\r\n        },\r\n        {\r\n          title: '商品管理',\r\n          key: '/product',\r\n          icon: 'tool'\r\n        },\r\n      ]\r\n    },\r\n  \r\n    {\r\n      title: '用户管理',\r\n      key: '/user',\r\n      icon: 'user'\r\n    },\r\n    {\r\n      title: '角色管理',\r\n      key: '/role',\r\n      icon: 'safety',\r\n    },\r\n  \r\n    {\r\n      title: '图形图表',\r\n      key: '/charts',\r\n      icon: 'area-chart',\r\n      children: [\r\n        {\r\n          title: '柱形图',\r\n          key: '/charts/bar',\r\n          icon: 'bar-chart'\r\n        },\r\n        {\r\n          title: '折线图',\r\n          key: '/charts/line',\r\n          icon: 'line-chart'\r\n        },\r\n        {\r\n          title: '饼图',\r\n          key: '/charts/pie',\r\n          icon: 'pie-chart'\r\n        },\r\n      ]\r\n    },\r\n  \r\n    {\r\n      title: '订单管理',\r\n      key: '/order',\r\n      icon: 'windows',\r\n    },\r\n  ]\r\n  \r\n  export default menuList","import React, { Component } from 'react'\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport {Menu} from 'antd'\r\nimport {\r\n  FullscreenOutlined,\r\n  PieChartOutlined\r\n} from '@ant-design/icons';\r\nimport './index.less'\r\nimport logo from '../../assets/images/logo.png'\r\nimport menuList from '../../config/menuConfig'\r\n/* \r\n左侧导航的组件\r\n */\r\nconst { SubMenu } = Menu;\r\n class LeftNav extends Component {\r\n  // getMenuNodes = (menuList) => {\r\n  //   return menuList.map(item => {\r\n      \r\n  //     if(!item.children) {\r\n  //       return (\r\n  //         <Menu.Item key={item.key}>\r\n  //           <Link to={item.key}>\r\n  //           <PieChartOutlined />\r\n  //             <span>{item.title}</span>\r\n  //           </Link>\r\n  //         </Menu.Item>\r\n  //       )\r\n  //     } else {\r\n  //       return (\r\n  //         <SubMenu\r\n  //           key={item.key}\r\n  //           title={\r\n  //             <span>\r\n  //             <FullscreenOutlined />\r\n  //             <span>{item.title}</span>\r\n  //           </span>\r\n  //           }\r\n  //         >\r\n  //           {this.getMenuNodes(item.children)}\r\n  //         </SubMenu>\r\n  //       )\r\n  //     }\r\n\r\n  //   })\r\n  // }\r\n  getMenuNodes = (menuList) => {\r\n    return menuList.reduce((prev,item)=>{\r\n      if(!item.children) {\r\n        prev.push(\r\n          (\r\n                    <Menu.Item key={item.key}>\r\n                      <Link to={item.key}>\r\n                      <PieChartOutlined />\r\n                        <span>{item.title}</span>\r\n                      </Link>\r\n                    </Menu.Item>\r\n                  )\r\n        )\r\n      }else{\r\n        prev.push(\r\n          (\r\n                    <SubMenu\r\n                      key={item.key}\r\n                      title={\r\n                        <span>\r\n                        <FullscreenOutlined />\r\n                        <span>{item.title}</span>\r\n                      </span>\r\n                      }\r\n                    >\r\n                      {this.getMenuNodes(item.children)}\r\n                    </SubMenu>\r\n                  )\r\n        )\r\n      }\r\n      return prev\r\n    },[])\r\n  }\r\n  render() {\r\n    const path=this.props.location.pathname\r\n    return (\r\n      <div className=\"left-nav\">\r\n        <div>\r\n\r\n        </div>\r\n        <Link to='/' className=\"left-nav-header\">\r\n\r\n          <img src={logo} alt=\"\" />\r\n          <h1>硅谷后台</h1>\r\n        </Link>\r\n        <Menu\r\n          onClick={this.handleClick}\r\n          style={{ width: 200 }}\r\n          selectedKeys={[path]}\r\n          defaultOpenKeys={['sub1']}\r\n          mode=\"inline\"\r\n        >\r\n          {this.getMenuNodes(menuList)}\r\n          [\r\n            (\r\n                    <Menu.Item key={1}>\r\n                      <Link to={1}>\r\n                      <PieChartOutlined />\r\n                        <span>{1}</span>\r\n                      </Link>\r\n                    </Menu.Item>\r\n                  )\r\n          ]\r\n        </Menu>\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\nexport default withRouter(LeftNav)","/** \r\n *  格式化日期\r\n*/\r\nexport function formateDate(time){\r\n    if(!time) return\r\n    let date=new Date(time)\r\n    return date.getFullYear()+'-'+(date.getMonth()+1)+'-'+date.getDate()\r\n    +' '+date.getHours()+':'+date.getMinutes()+':'+date.getSeconds()\r\n}","import React from 'react'\r\nimport './index.less'\r\nexport default function LinkButton(props){\r\n    return <button {...props} className='link-button'></button>\r\n}","import React,{Component} from 'react'\r\nimport { Modal } from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport './index.less'\r\nimport menuList from '../../config/menuConfig'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {formateDate} from '../../utils/dateUtils'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\nimport { reqWeather } from '../../api'\r\nimport LinkButton from '../link-button'\r\nclass Header extends Component{\r\n    state={\r\n        currentTime:formateDate(Date.now()),\r\n        dayPictureUrl:'',//天气图片URL\r\n        weather:'',//天气的文本\r\n        \r\n    }\r\n    getTime=()=>{\r\n        setInterval(()=>{\r\n            const currentTime=formateDate(Date.now())\r\n            this.setState({currentTime})\r\n        },1000)\r\n    }\r\n    logout=()=>{\r\n        Modal.confirm({\r\n            title: 'Confirm',\r\n            icon: <ExclamationCircleOutlined />,\r\n            content:'确定退出吗?',\r\n            onOk:()=>{\r\n                storageUtils.removeUser()\r\n                memoryUtils.user = {}\r\n                // 跳转到login\r\n                this.props.history.replace('/login')\r\n            }\r\n          });\r\n       \r\n    }\r\n    getWeather=async ()=>{\r\n        const {dayPictureUrl,weather}=await reqWeather();\r\n        this.setState({dayPictureUrl,weather})\r\n    }\r\n    getTitle=()=>{\r\n        const path=this.props.location.pathname;\r\n        let title;\r\n        menuList.forEach(item => {\r\n            if(item.key===path){\r\n                title=item.title\r\n            }else if(item.children){\r\n              const cItem=item.children.find(cItem=>cItem.key===path)\r\n              if(cItem){\r\n                  title=cItem.title\r\n              }\r\n\r\n            }\r\n        });\r\n        return title\r\n    }\r\n    componentDidMount(){\r\n        this.getTime();\r\n    }\r\n    render(){\r\n        const username=memoryUtils.user.username\r\n        const title=this.getTitle();\r\n        return (\r\n            <div className=\"header\">\r\n                <div className=\"header-top\">\r\n                    <span>欢迎，{username}</span>\r\n                    <LinkButton onClick={this.logout}>退出</LinkButton>\r\n                </div>\r\n                <div className=\"header-bottom\">\r\n                    <div className=\"header-bottom-left\">{title}</div>\r\n                    <div className=\"header-bottom-right\">\r\n                        <span>{this.state.currentTime}</span>\r\n                        <img src={this.state.dayPictureUrl} alt=\"weather\"/>\r\n                        <span>{this.state.weather}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Header)","import React, { Component } from 'react'\r\n\r\nexport default class Home extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                欢迎使用好孩子后台管理系统\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {Card,Table,Button, message} from 'antd'\r\nimport {PlusOutlined,ArrowRightOutlined} from '@ant-design/icons';\r\nimport LinkButton from '../../components/link-button'\r\nimport {reqCategorys, reqUpdateCategory, reqAddCategory} from '../../api'\r\nexport default class Category extends Component {\r\n    state={\r\n        categorys: [], // 一级分类列表\r\n        subCategorys:[],//二级分类列表\r\n        loading:false,\r\n        parentId:'0',//当前需要显示的分类列表的父分类Id\r\n        parentName:'',//当前需要显示的分类列表的父分类名称\r\n    }\r\n    /*\r\n  初始化Table所有列的数组\r\n   */\r\n  initColumns=()=>{\r\n      this.columns=[\r\n        {\r\n            title: '分类的名称',\r\n            dataIndex: 'name', // 显示数据对应的属性名\r\n          },\r\n          {\r\n              title:'操作',\r\n              width:300,\r\n              render:(category)=>{\r\n                  return(\r\n                <span>\r\n                    <LinkButton >修改分类</LinkButton>\r\n                    {this.state.parentId==='0'?<LinkButton onClick={()=>this.showSubCategorys(category)}>查看子分类</LinkButton>:null}\r\n                    \r\n                </span>\r\n              )}\r\n          }\r\n      ]\r\n  }\r\n  //获取一级/二级分类列表\r\n  getCategorys=async ()=>{\r\n      this.setState({loading:true})\r\n      const {parentId}=this.state\r\n    const result=await reqCategorys(parentId)\r\n    this.setState({loading:false})\r\n    if(result.status===0){\r\n        const categorys=result.data;\r\n        if(parentId==='0'){\r\n            this.setState({\r\n                categorys\r\n            })\r\n        }else{\r\n            this.setState({\r\n                subCategorys:categorys\r\n            })\r\n        }\r\n        \r\n    }else{\r\n        message.error('获取分类列表失败')\r\n    }\r\n  }\r\n  showCategorys=()=>{\r\n    this.setState({\r\n        parentId: '0',\r\n        parentName: '',\r\n        subCategorys: []\r\n      })\r\n  }\r\n  showSubCategorys=(category)=>{\r\n    this.setState({\r\n        parentId:category._id,\r\n        parentName:category.name\r\n    },()=>{\r\n        this.getCategorys()\r\n    })\r\n  }\r\n  componentWillMount(){\r\n      this.initColumns();\r\n  }\r\n  componentDidMount(){\r\n      this.getCategorys()\r\n  }\r\n    render() {\r\n        const {categorys,loading,parentId,subCategorys,parentName}=this.state\r\n        const title=parentId === '0'?'一级分类列表':(\r\n            <span>\r\n                <LinkButton onClick={this.showCategorys}>一级分类列表</LinkButton>\r\n                <ArrowRightOutlined style={{marginRight:'5px'}}/>\r\n                <span>{parentName}</span>\r\n            </span>\r\n        )\r\n        const extra=(\r\n            <Button type='primary'>\r\n               <PlusOutlined />\r\n                添加\r\n            </Button>\r\n        )\r\n        return (\r\n            <Card title={title} extra={extra}>\r\n                <Table\r\n                     bordered\r\n                     rowKey='_id'\r\n                     loading={loading}\r\n                     columns={this.columns}\r\n                     dataSource={parentId==='0'?categorys:subCategorys}\r\n                     pagination={{defaultPageSize:5,showQuickJumper:true}}\r\n                >\r\n\r\n                </Table>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Product extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Role extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class User extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                user\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Bar extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Line extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Pie extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Redirect, Route, Switch } from 'react-router-dom'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport { Layout } from 'antd'\r\nimport LeftNav from '../../components/left-nav'\r\nimport Header from '../../components/header'\r\nimport Home from '../home/home'\r\nimport Category from '../category/category'\r\nimport Product from '../product/product'\r\nimport Role from '../role/role'\r\nimport User from '../user/user'\r\nimport Bar from '../charts/bar'\r\nimport Line from '../charts/line'\r\nimport Pie from '../charts/pie'\r\nconst { Footer, Sider, Content } = Layout\r\n/*\r\n 后台管理的路由组件\r\n */\r\nexport default class Admin extends Component {\r\n    render() {\r\n        const user = memoryUtils.user\r\n        //如果内存中没有存储user==>当前没有登录\r\n        if (!user || !user._id) {\r\n            //自动跳转到登录\r\n            return <Redirect to='/login' />\r\n        }\r\n        return (\r\n            <Layout style={{ height: '100%' }}>\r\n                <Sider>\r\n                    <LeftNav />\r\n                </Sider>\r\n                <Layout>\r\n                    <Header>Header</Header>\r\n                    <Content style={{ margin:20,backgroundColor: '#fff' }}>\r\n                        <Switch>\r\n                           \r\n                            <Route path='/home' component={Home} />\r\n                            <Route path='/category' component={Category} />\r\n                            <Route path='/product' component={Product} />\r\n                            <Route path='/role' component={Role} />\r\n                            <Route path='/user' component={User} />\r\n                            <Route path='/charts/bar' component={Bar} />\r\n                            <Route path='/charts/line' component={Line} />\r\n                            <Route path='/charts/pie' component={Pie} />\r\n                            <Redirect to=\"/home\" />\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center', color: '#ccc' }}>Footer</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\nimport { BrowserRouter, Route,Switch } from 'react-router-dom'\nimport Login from './pages/login/login'\nimport Admin from './pages/admin/admin'\nexport default class App extends Component {\n  render() {\n    return (\n   \n      <BrowserRouter>\n      <Switch>  \n        <Route path='/login' component={Login}/>\n        <Route path='/' component={Admin}/>\n      </Switch>\n      </BrowserRouter>\n    )\n  }\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport storageUtils from './utils/storageUtils'\r\nimport memoryUtils from './utils/memoryUtils'\r\n//读取local中保存的user,保存到内存中\r\nconst user=storageUtils.getUser()\r\nmemoryUtils.user=user\r\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}